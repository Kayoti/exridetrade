import{_ as J,a as A,b as B}from"./Df9bphEb.js";import{d as j,a as F,r as d,G as R,o as w,H as G,c as y,e as _,i as a,w as s,B as r,f as e,I as b,g as c,h as S,E as T}from"./CYEOpasW.js";import{_ as M}from"./DQehGYm-.js";import{_ as z}from"./BS4SccSj.js";import{u as H}from"./DPdwk3L7.js";import{u as D}from"./BbTB29Nz.js";import{u as $}from"./BYRtNTtV.js";import"./DrGVh_A_.js";const Z=""+new URL("profit.CRGpqp2I.png",import.meta.url).href,q=""+new URL("extra_services.CZt0Nxqx.png",import.meta.url).href,Y=""+new URL("fraud.LGfKyPXs.png",import.meta.url).href,W=""+new URL("partner-logos.DA_v8qfU.png",import.meta.url).href,K={key:0,class:"flex flex-wrap gap-4 justify-center"},X={class:"flex flex-col font-bold gap-4 text-sm justify-between py-6 md:py-16 p-4 md:p-8"},Q={class:"text-center"},ee={key:1,class:"flex flex-wrap gap-4 justify-center"},te={class:"flex flex-col font-bold gap-4 text-sm justify-between py-6 md:py-16 p-4 md:p-8"},le={class:"text-center"},ue=j({__name:"index",emits:["next"],setup(oe,{emit:ae}){const l=H(),h=F(),{signInWithGoogle:N,auth:V,onAuthStateChanged:U}=D(),P=d(),v=d(!1),i=d(),x=R();d({componentRestrictions:{country:["CA"]},strictBounds:!0});const u=d(!1);d(!1),d(null),d(""),d(""),d("");const O=d(!1),I=async()=>{console.log("&&&&&");try{O.value=!0,await N()}catch(o){console.error("Error during Google sign-in:",o)}};w(()=>U(V,o=>{if(console.log("*888888"),o){if(P.value=o,console.log("User logged in:",o),l.$state.form.email=o==null?void 0:o.email,l.$state.form.phone=o==null?void 0:o.phoneNumber,l.$state.form.mobile=o==null?void 0:o.phoneNumber,o!=null&&o.displayName){const t=o.displayName.split(" ");l.$state.form.firstname=t[0],l.$state.form.lastname=t.length>1?t.slice(1).join(" "):""}else l.$state.form.firstname="",l.$state.form.lastname="";E()}else console.log("No user is logged in")})),G(()=>l.$state.form,()=>{localStorage.setItem("form",JSON.stringify(l.$state.form))},{deep:!0});async function E(){const o=new FormData;console.log(o),l.$state.form.email?(o.append("mode","getLeadByEmail"),o.append("email",l.$state.form.email),$("https://exride.easypear.com/modules/TradeInPortal/process.php",{method:"POST",body:o},"$l0USYkEyD8").then(async t=>{var n;if(console.log(JSON.parse(t.data.value).data),!JSON.parse(t.data.value).data||JSON.parse(t.data.value).data.length===0)console.log("to signup email, firebase*************"),u.value=!0;else{try{i.value=(n=JSON.parse(t.data.value))==null?void 0:n.data,x.setUser("login"),localStorage.setItem("app_user",JSON.stringify(i.value)),localStorage.setItem("leadid",i.value.leadid)}catch(m){console.error("Error parsing JSON response:",m),i.value=null}console.log("success login email, firebase*************"),h.push({name:"dashboard"})}})):l.$state.form.phone?(o.append("mode","getLeadByPhone"),o.append("phone",l.$state.form.phone),$("https://exride.easypear.com/modules/TradeInPortal/process.php",{method:"POST",body:o},"$EyaSzsqjZa").then(t=>{var n;if(!JSON.parse(t.data.value).data||JSON.parse(t.data.value).data.length===0)u.value=!0,console.log(u);else{try{i.value=(n=JSON.parse(t.data.value))==null?void 0:n.data,x.setUser("login"),localStorage.setItem("app_user",JSON.stringify(i.value)),localStorage.setItem("leadid",i.value.leadid)}catch(m){console.error("Error parsing JSON response:",m),i.value=null}h.push({name:"dashboard"})}})):console.log("Invalid user data")}async function L(){v.value=!0;const n="https://exride.easypear.com/modules/Webforms/capture_test.php?"+new URLSearchParams({publicid:"5f7d449b3f5216d27c3a7aea6c70ecbe",name:"Vehicle Sell",firstname:l.$state.form.firstname,lastname:l.$state.form.lastname,phone:l.$state.form.phone??"",mobile:l.$state.form.phone??"",email:l.$state.form.email??"",cf_939:l.$state.form.vehicle_location.location??"",city:l.$state.form.vehicle_location.city??"",state:l.$state.form.vehicle_location.prov??"",code:l.$state.form.vehicle_location.code??"",lane:l.$state.form.vehicle_location.street_number??" "+l.$state.form.vehicle_location.route??"",country:l.$state.form.vehicle_location.country??"",cf_1684:l.$state.form.vehicle_location.prov??""}).toString();$fetch(n,{method:"GET"}).then(m=>{var f;v.value=!1,console.log(m);try{i.value=(f=JSON.parse(m.data.value))==null?void 0:f.data,x.setUser("login"),localStorage.setItem("app_user",JSON.stringify(i.value)),localStorage.setItem("leadid",i.value.leadid)}catch(g){console.error("Error parsing JSON response:",g),i.value=null}h.push({name:"dashboard"})})}return w(()=>{x.getUser()}),(o,t)=>{const n=J,m=A,f=T,g=M,k=B,C=z;return y(),_("div",null,[a(C,null,{default:s(()=>[r(u)?S("",!0):(y(),_("div",K,[a(g,{class:"w-full md:w-[35%]"},{default:s(()=>[t[10]||(t[10]=e("div",{class:"flex flex-col justify-center items-center pt-2"},[e("img",{src:b,class:"w-[50%] sm:w-[40%] md:w-[30%] lg:w-[25%] xl:w-[20%]",alt:"Exride logo"}),e("h3",{class:"font-bold md:text-xl pt-1 text-center"}," Sign In or Sign Up ")],-1)),e("div",X,[a(m,{size:"xl",label:"Phone Number",hint:"",description:"",help:""},{default:s(()=>[a(n,{modelValue:r(l).$state.form.phone,"onUpdate:modelValue":t[0]||(t[0]=p=>r(l).$state.form.phone=p),placeholder:"Phone",type:"tel"},{leading:s(()=>t[6]||(t[6]=[e("span",{class:"text-gray-500 dark:text-gray-400 text-xm"},"+1",-1)])),_:1},8,["modelValue"])]),_:1}),t[8]||(t[8]=e("div",{class:"flex items-center my-4"},[e("hr",{class:"flex-grow border-t border-gray-300"}),e("span",{class:"mx-2 text-sm text-gray-500"},"OR"),e("hr",{class:"flex-grow border-t border-gray-300"})],-1)),e("div",Q,[a(f,{type:"button",class:"border border-gray-400 text-black hover:bg-gray-100 focus:outline-none font-medium text-sm px-5 py-2.5 text-center inline-flex justify-center items-center dark:focus:outline-none bg-white w-full max-w-xs",onClick:I},{default:s(()=>t[7]||(t[7]=[e("svg",{class:"w-4 h-4 mr-2","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 19"},[e("g",{fill:"none","fill-rule":"evenodd"},[e("path",{fill:"#4285F4",d:"M17.64 9.204c0-.638-.057-1.252-.163-1.84H9v3.48h4.844a4.147 4.147 0 0 1-1.8 2.723v2.258h2.908c1.7-1.563 2.688-3.86 2.688-6.621Z"}),e("path",{fill:"#34A853",d:"M9 18c2.43 0 4.463-.808 5.951-2.188l-2.908-2.258c-.81.543-1.84.865-3.043.865a5.09 5.09 0 0 1-4.817-3.5H1.165v2.2A8.998 8.998 0 0 0 9 18Z"}),e("path",{fill:"#FBBC05",d:"M4.183 10.92A5.077 5.077 0 0 1 3.96 9.5c0-.503.087-.994.223-1.42V5.88H1.165A8.998 8.998 0 0 0 0 9.5c0 1.426.342 2.77.947 3.92l3.236-2.5Z"}),e("path",{fill:"#EA4335",d:"M9 3.579c1.32 0 2.504.455 3.438 1.346l2.577-2.577C13.46.808 11.43 0 9 0A8.998 8.998 0 0 0 1.165 5.88l3.236 2.5A5.09 5.09 0 0 1 9 3.579Z"})])],-1),c(" Sign in with Google ")])),_:1})]),t[9]||(t[9]=e("div",{class:"pt-8 text-center text-sm"},[c(" Exride values your security. "),e("br"),c(" Please enter your phone number or email to receive a one time password to login or sign-up. ")],-1))])]),_:1}),a(g,{class:"w-full md:w-[35%]"},{default:s(()=>t[11]||(t[11]=[e("div",{class:"flex flex-col font-bold gap-4 text-sm justify-between py-6 md:py-16 p-4 md:p-8"},[e("div",{class:"flex flex-row items-center gap-3 md:gap-6"},[e("img",{src:Z,style:{height:"32px",width:"32px"}}),e("div",null,[e("p",null,"Maximize Your Vehicle Value"),e("ul",{class:"pt-1 font-normal text-normal list-disc flex flex-col gap-1 pl-6"},[e("li",null,"Top Dollar for Your Car"),e("li",null,"Verified Buyers Pool"),e("li",null,"HST Trade-In Credits")])])]),e("div",{class:"flex flex-row items-center gap-3 md:gap-6"},[e("img",{src:q,style:{height:"32px",width:"32px"}}),e("div",null,[e("p",null,"Dealer Power in Your Hands"),e("ul",{class:"pt-1 font-normal text-normal list-disc flex flex-col gap-1 pl-6"},[e("li",null,"Major Banks Financing + Leasing"),e("li",null,"Warranties and Protection Plans"),e("li",null,"Registrations, Mechanical + Recon")])])]),e("div",{class:"flex flex-row items-center gap-3 md:gap-6"},[e("img",{src:Y,style:{height:"32px",width:"32px"}}),e("div",null,[e("p",null,"Stop Scammers and Fraud"),e("ul",{class:"pt-1 font-normal text-normal list-disc flex flex-col gap-1 pl-6"},[e("li",null,"Verified Vehicle History"),e("li",null,"Lien Searches + Payouts"),e("li",null,"Verification of Funds")])])])],-1)])),_:1})])),r(u)?(y(),_("div",ee,[a(g,{class:"w-full md:w-[45%]"},{default:s(()=>[t[15]||(t[15]=e("div",{class:"flex flex-col justify-center items-center pt-2"},[e("img",{src:b,class:"w-[50%] sm:w-[40%] md:w-[30%] lg:w-[25%] xl:w-[20%]",alt:"Exride logo"}),e("h3",{class:"font-bold md:text-xl pt-1 text-center"}," Sign In or Sign Up ")],-1)),e("div",te,[a(k,{class:"space-y-4"},{default:s(()=>[a(m,{size:"xl",label:"FirstName",name:"firstname","eager-validation":""},{default:s(()=>[a(n,{modelValue:r(l).$state.form.firstname,"onUpdate:modelValue":t[1]||(t[1]=p=>r(l).$state.form.firstname=p),placeholder:"FirstName"},null,8,["modelValue"])]),_:1}),a(m,{size:"xl",label:"LastName",name:"lastname","eager-validation":""},{default:s(()=>[a(n,{modelValue:r(l).$state.form.lastname,"onUpdate:modelValue":t[2]||(t[2]=p=>r(l).$state.form.lastname=p),placeholder:"LastName"},null,8,["modelValue"])]),_:1}),a(m,{size:"xl",label:"Phone Number",hint:"",description:"",help:""},{default:s(()=>[a(n,{modelValue:r(l).$state.form.phone,"onUpdate:modelValue":t[3]||(t[3]=p=>r(l).$state.form.phone=p),placeholder:"Phone",type:"tel"},{leading:s(()=>t[12]||(t[12]=[e("span",{class:"text-gray-500 dark:text-gray-400 text-xm"},"+1",-1)])),_:1},8,["modelValue"])]),_:1}),a(m,{size:"xl",label:"Email",hint:"",description:"",help:""},{default:s(()=>[a(n,{modelValue:r(l).$state.form.email,"onUpdate:modelValue":t[4]||(t[4]=p=>r(l).$state.form.email=p),placeholder:"you@example.com",icon:"i-heroicons-envelope",type:"email"},null,8,["modelValue"])]),_:1})]),_:1}),e("div",le,[a(f,{loading:r(v),class:"border border-gray-400 text-black hover:bg-gray-100 focus:outline-none font-medium text-sm px-5 py-2.5 text-center inline-flex justify-center items-center dark:focus:outline-none bg-white w-full max-w-xs",onClick:t[5]||(t[5]=p=>L())},{default:s(()=>t[13]||(t[13]=[c(" Continue ")])),_:1},8,["loading"])]),t[14]||(t[14]=e("div",{class:"pt-8 text-center text-sm"},[c(" Exride values your security. "),e("br"),c(" Please enter your phone number or email to receive a one time password to login or sign-up. ")],-1))])]),_:1})])):S("",!0),t[16]||(t[16]=e("div",{class:"flex flex-row justify-center pb-8"},[e("img",{src:W,alt:"",class:"max-w-xs md:max-w-3xl"})],-1))]),_:1})])}}});export{ue as default};
